<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: true,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="人生如逆旅，我亦是行人。">
<meta property="og:type" content="website">
<meta property="og:title" content="TSW">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="TSW">
<meta property="og:description" content="人生如逆旅，我亦是行人。">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TSW">
<meta name="twitter:description" content="人生如逆旅，我亦是行人。">
  <link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>TSW</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">TSW</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    
      
      
        
      
        
      
        
          
        
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">12</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    
      
      
        
      
        
          
        
      
        
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">0</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    
      
      
        
          
        
      
        
      
        
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">20</span></a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-schedule">
      
    
      
      
        
      
        
      
        
      
    

    <a href="/schedule/" rel="section"><i class="fa fa-fw fa-calendar"></i>日程表</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            
  <div id="posts" class="posts-expand">
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/04/CRF-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/10/04/CRF-2/" class="post-title-link" itemprop="url">命名实体识别：BiLSTM 之上的 CRF 层 - 2</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-10-04 00:44:45" itemprop="dateCreated datePublished" datetime="2018-10-04T00:44:45+08:00">2018-10-04</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-10-04 01:37:32" itemprop="dateModified" datetime="2019-10-04T01:37:32+08:00">2019-10-04</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="回顾"><a href="#回顾" class="headerlink" title="回顾"></a>回顾</h4><p>在 <a href="https://createmomo.github.io/2017/09/12/CRF_Layer_on_the_Top_of_BiLSTM_1/" target="_blank" rel="noopener">上一篇文章</a> 中, 我们了解到 CRF 能够从训练数据中学习到有关 Labels 序列的约束，进而可以确保最终的实体标注序列是合理有效的。</p>
<p>这些约束可以是：</p>
<ul>
<li>句子中首个单词的 Label 应该是 “B-“ or “O”, 而不会是 “I-“</li>
<li><p>“B-label1 I-label2 I-label3 I-…”,在这个模式中, label1, label2, label3 … 应该是同一实体的 Label。譬如，“B-Person I-Person” 是合理有效的，但是  “B-Person I-Organization” 便是无效的。</p>
</li>
<li><p>“O I-label” 是无效的。命名实体的第一个起始标注应该是 “B-“ 开头的，而不是  “I-“。换一句话说，合理有效的模式应该是  “O B-label”</p>
</li>
<li><p>…</p>
</li>
</ul>
<p>在读完这篇文章后，你将会知道为什么 CRF 能够学习到这些约束。</p>
<h3 id="2-CRF-Layer"><a href="#2-CRF-Layer" class="headerlink" title="2. CRF Layer"></a>2. CRF Layer</h3><p>在  CRF  层的 Loss Function 中，我们有两种 Score ，Emission Score 和 Transition Score 它们是 CRF  层的关键。</p>
<h4 id="2-1-Emission-Score"><a href="#2-1-Emission-Score" class="headerlink" title="2.1 Emission Score"></a>2.1 Emission Score</h4><p>第一个便是 Emission Score 。这里的 Emission Scores 来自于 BiLSTM 层，如下图所示，$w_0$被标记为 B-Person  的 score 是 1.5</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/244848-e77acaa15e0c6d77.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>为了方便理解，在这里给每个 label 一个索引标签：</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/244848-f85dce456924c800.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>我们使用$x<em>{i,y_j}$表示 Emission Score，$i$ 是 word 的 index，$y_j$ 是 label 的 index。譬如，依据上面的图可以得到，$x</em>{i=1,y<em>j=2} = x</em>{w1, B-Organization} = 0.1$, 意思就是$w_1$被标注为 B-Organization 的 score 为 0.1。</p>
<h4 id="2-2-Transition-Score"><a href="#2-2-Transition-Score" class="headerlink" title="2.2 Transition Score"></a>2.2 Transition Score</h4><p>对于 Transition Score ，我们使用$t<em>{y_jy_j}$ 表示。譬如，$ t</em>{B-Persion, I-Person} = 0.9 $，意思就是标签 B-Persion 转移到 I-Person 的 score 为 0.9。这样的话，我们便拥有了一个 转移矩阵，其中存储着所有标签之间的 Transition Score。</p>
<p>为了使得转移分数矩阵更加具有鲁棒性，我们得添加一些标签，START 和 END。START 表示句子的起始，并不是句子的第一个 word；END 表示句子的结束。</p>
<p>这里就是一个 transition matrix score 的例子，其中包含了我们额外添加的START 和 END 标签。</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/244848-18095c2c0968bf34.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>如上表所示，我们能够发现这个状态转移举证已经学习到了某些约束了。</p>
<ul>
<li><p>句子中的第一个单词的标记应该是以“B-“ 或者 “O”开头, 并不会是 “I-”形式的标记。（可以从表中发现， “START” 到 “I-Person or I-Organization” 的转移值非常的小。）</p>
</li>
<li><p>在“B-label1 I-label2 I-label3 I-…”这样形式的标注序列中， label1, label2, label3 … 应该是同种实体的标签。比如，“B-Person I-Person”  是合理有效的标注序列，而 “B-Person I-Organization” 则不是。(譬如, the score from “B-Organization” to “I-Person” is only 0.0003 which is much lower than the others.)</p>
</li>
<li><p>“O I-label” is invalid. The first label of one named entity should start with “B-“ not “I-“, in other words, the valid pattern should be “O B-label” (表中$t_{O, I-Person}$的值非常的小。）</p>
</li>
</ul>
<p>好了，这时候你脑子里该满是黑人问号了，这个矩阵从哪里来的？？</p>
<p>确切的说，这个矩阵是 BiLSTM-CRF 模型的一个参数。在你训练模型之前，你可以随机地初始化矩阵中所有的 transition score。在之后的训练过程中，这些随机初始化的 score 将会被自动更新。换句话说，CRF 层可以自己学习到这些约束。我们并不需要手动创建这样一个矩阵。这些分数值会随着训练的迭代次数的增加，变得越来越 “合理”。</p>
<h4 id="2-3-CRF-loss-function"><a href="#2-3-CRF-loss-function" class="headerlink" title="2.3 CRF loss function"></a>2.3 CRF loss function</h4><p>CRF 的损失函数由 真实转移路径值 和 所有可能转移路径值两部分组成。真实路径表示在所有可能转移路径中具有最高 score 的路径。</p>
<p>假如我们的数据集中有这样一些标记：</p>
<p><img alt="image.png" data-src="https://upload-images.jianshu.io/upload_images/244848-2c188c8d806ace11.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>我们也有一个由 5 个单词组成的句子，那么标签的可能转移路径有：</p>
<p>1.START B-Person B-Person B-Person B-Person B-Person END</p>
<p>2.START B-Person I-Person B-Person B-Person B-Person END<br>…<br>10.START B-Person I-Person O B-Organization O END<br>…<br>N.O O O O O O O</p>
<p>假定每一个可能的路径有一个分数值$P<em>i$, 那么对于所有 N 条可能的路径的总分数值为$P</em>{total} = P_1 + P_2 + P_3 + … + P_N = e^{S_1} + e^{S_2} + e^{S_3} + … + e^{S_N}$，e 是数学常量 e。（在 2.4  节，我们会讨论如何计算$S_i$，你也可以将它直接作为该路径的分数值。）</p>
<p>假如这里的第十条路径是真实的路径，换句话说，第十条路径是训练集提供的“黄金准则”。那么，$P_{10}$就应该在所有的路径分数值之和中占据最大的比例。</p>
<p>下面给出方程便是我们一直讨论的 Loss Function，在训练阶段，BiLSTM-CRF 模型的参数值将会一直不停的被更新，来提高真实路径的分数值所占的比重。</p>
<script type="math/tex; mode=display">Loss Function = P_{RealPath} / P_{1}+P_{2}+P_{3}+P_{4}+...+P_{N}</script><p>现在，问题来了：</p>
<ol>
<li>如何定义一条路径的分数值？</li>
<li>如何计算所有路径的总分数值？</li>
<li>当我们计算所有分数值的时候，我们需要列出所有可能的路径吗？（提前透露一下答案：不需要！）</li>
</ol>
<h4 id="Real-path-score"><a href="#Real-path-score" class="headerlink" title="Real path score"></a>Real path score</h4><p>今天就到这里吧～</p>
<p>参考文献<br>[1] Lample, G., Ballesteros, M., Subramanian, S., Kawakami, K. and Dyer, C., 2016. Neural architectures for named entity recognition. arXiv preprint arXiv:1603.01360.<br>[2] <a href="https://createmomo.github.io/2017/09/23/CRF_Layer_on_the_Top_of_BiLSTM_2/" target="_blank" rel="noopener">https://createmomo.github.io/2017/09/23/CRF_Layer_on_the_Top_of_BiLSTM_2/</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/04/CRF-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/10/04/CRF-1/" class="post-title-link" itemprop="url">命名实体识别： BiLSTM 之上的 CRF 层 - 1</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-10-04 00:38:57" itemprop="dateCreated datePublished" datetime="2018-10-04T00:38:57+08:00">2018-10-04</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-10-04 01:03:58" itemprop="dateModified" datetime="2019-10-04T01:03:58+08:00">2019-10-04</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>注：本文翻译自 CreateMoMo 个人博客，暂未取得作者授权，仅做学习交流使用，如若侵权，立即删除。点击底部阅读原文可直达原博客。</code></p>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p>该系列文章将会涉及以下几个方面：</p>
<ul>
<li><p>Idea 概述 - 在命名实体识别任务中，为什么要在 BiLSTM模型上添加CRF层？</p>
</li>
<li><p>案例解读 - 通过一个简单的实现来揭示：CRF 层是怎样工作的？</p>
</li>
<li><p>Chainer 实现 BiLSTM+CRF 模型（翻译者会努力用 TensorFlow or PyTorch 来实现一番！）</p>
</li>
</ul>
<blockquote>
<p><strong>谁适合阅读本系列文章？</strong><br>本系列文章适合 NLP 或其他 AI 相关领域的初学者或者在校学生，希望你们在我的文章中能有所收获。期待有建设性的意见和建议！</p>
</blockquote>
<h3 id="前置知识"><a href="#前置知识" class="headerlink" title="前置知识"></a>前置知识</h3><p>如果你不知道神经网络、CRF 或者其他相关的知识，别担心，我会尽量从直觉上来帮助你来理解它们。唯一需要你知道的是命名实体识别的概念！</p>
<h3 id="1-简介"><a href="#1-简介" class="headerlink" title="1 简介"></a>1 简介</h3><p>对于命名实体识别任务来说，基于神经网络和深度学习的方法越来越流行了。比如在这篇<a href="https://arxiv.org/abs/1603.01360" target="_blank" rel="noopener">Paper</a>中，作者就提出了 BiLSTM-CRF 模型用于命名实体识别任务，文中使用了 word level 和 character level 的 embedding。我将使用这篇文章中的模型来解释模型中 CRF层 是如何工作的 :)  。</p>
<p>如果你还不了解有关 BiLSTM 和 CRF 的细节的话，只要记住它们不过是命名实体识别模型中两种不同的 Layer 罢了！</p>
<h4 id="1-1-开始之前"><a href="#1-1-开始之前" class="headerlink" title="1.1 开始之前"></a>1.1 开始之前</h4><p>首先，假设我们的数据集中有两种不同的实体类型：Person（人物） 和 Organization（组织）。那么，实际上，我们便有了五种实体的类别 Label ：</p>
<ul>
<li>B-Person</li>
<li>I-Person</li>
<li>B-Organization</li>
<li>I-Organization</li>
<li>O</li>
</ul>
<p>这样的话，假如我们使用 $x$ 代表包含五个单词的句子，$w_0,w_1,w_2,w_3,w_4$。那么，在句子 $x$ 中，$[w_0,w_1]$ 是一个 Person 实体，$[w_3]$ 是一个 Organization 实体，其他的单词我们用 $O$ 表示。</p>
<h4 id="1-2-BiLSTM-CRF-model"><a href="#1-2-BiLSTM-CRF-model" class="headerlink" title="1.2 BiLSTM-CRF model"></a>1.2 BiLSTM-CRF model</h4><p>在这里我会简要介绍一下 BiLSTM-CRF 模型。</p>
<p>如下图所示：</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/244848-b5b908c814479bb5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<ul>
<li><p>首先，在句子 $x$ 中的每一个词 $w_i$都对应着一个向量表示，这个向量由字符级别的词嵌入(character embedding)和单词级别的词嵌入(word embedding)共同组成（concat 操作？）。其中，字符级别的词嵌入(character embedding)由随机初始化得到，而单词级别的词嵌入(word embedding)一般来自于预先训练好的 word embedding 文件(word2vec 或者 GloVe)。所有的 embeddings 在训练过程中将会被 fine-tuned。</p>
</li>
<li><p>其次，BiLSTM-CRF 模型的输入便是这些词向量，模型的输出是对句子 $x$ 中单词对应的标签类别的预测。尽管了解 BiLSTM 层的细节对于我们来说并不必要，但是为了更加容易的理解  CRF 层，还是有必要知道一下 BiLSTM 层输出结果表示什么意思。</p>
</li>
</ul>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/244848-f11c2b65063fcbcb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>如上所示， BiLSTM 层的输出是每个类别的预测分数值。譬如，对于词 $w_0$ 来说，BiLSTM 层的输出为：1.5 (B-Person), 0.9 (I-Person), 0.1 (B-Organization), 0.08 (I-Organization) 和 0.05 (O)。这些分数值将会作为 CRF 层的输入。</p>
<p>之后，在所有由 BiLSTM 层预测的分数值输入到 CRF 层之后，CRF 便会选择具有最高预测分数值的类别标记序列作为最佳的答案。</p>
<h4 id="1-3-如果没有-CRF-层会怎么样？"><a href="#1-3-如果没有-CRF-层会怎么样？" class="headerlink" title="1.3 如果没有 CRF 层会怎么样？"></a>1.3 如果没有 CRF 层会怎么样？</h4><p>你可能已经注意到了，假使没有 CRF 层，我们一样可以只训练 LSTM 来进行命名实体识别，流程如下：</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/244848-377249e63336d1cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>因为 BiLSTM 层输出的正是每个单词的在各个类标上的分数值，我们完全可以选择具有最高分数的类标作为单词的命名实体类别标注。</p>
<p>譬如，对于 $w_0$ 来说， “B-Person” 具有最高的得分（1.5），因而我们可以选择 “B-Person”作为最佳的预测。同理，对于$w_1$，我们可以选择  “I-Person”；对于 $w_2$，我们可以选择  “O”；对于 $w_3$，我们可以选择  “B-Org”；对于 $w_2$，我们可以选择  “O”。</p>
<p>在这个例子中，尽管我们可以得到句子$x$中各个单词的正确类别标记。但是，有些情况下并不总是如此，看一看这个例子：</p>
<p><img alt data-src="https://upload-images.jianshu.io/upload_images/244848-cb15482e1a81f09c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>很显然，沿用上面的方法，我们得到的输出（“I-Organization I-Person” 和 “B-Organization I-Person” ）便显得非常的不合理了，I-Organization 之后竟然会出现 I-Person 的标注！</p>
<h4 id="1-4-CRF-层能够从训练数据中学习到标注序列的一些“约束”"><a href="#1-4-CRF-层能够从训练数据中学习到标注序列的一些“约束”" class="headerlink" title="1.4 CRF 层能够从训练数据中学习到标注序列的一些“约束”"></a>1.4 CRF 层能够从训练数据中学习到标注序列的一些“约束”</h4><p>The CRF layer could add some constrains to the final predicted labels to ensure they are valid. These constrains can be learned by the CRF layer automatically from the training dataset during the training process.</p>
<p>CRF 层能够给最终的预测 Labels 添加一些约束来确保其合理有效。在训练过程中，这些约束会被 CRF 层自动学习到。</p>
<p>这些约束可以是：</p>
<ul>
<li>句子中首个单词的 Label 应该是 “B-“ or “O”, 而不会是 “I-“</li>
<li><p>“B-label1 I-label2 I-label3 I-…”,在这个模式中, label1, label2, label3 … 应该是同一实体的 Label。譬如，“B-Person I-Person” 是合理有效的，但是  “B-Person I-Organization” 便是无效的。</p>
</li>
<li><p>“O I-label” 是无效的。命名实体的第一个起始标注应该是 “B-“ 开头的，而不是  “I-“。换一句话说，合理有效的模式应该是  “O B-label”</p>
</li>
</ul>
<p>有了这些必要的约束，出现不合理标注序列的数量将会显著下降！</p>
<h4 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h4><p>接下来，我将通过分析 CRF 的 Loss Function 来解释 CRF 层如何从训练数据集中学习到上述约束，以及为什么 CRF 能够学习到它们。</p>
<p>别走开，后续更加精彩！</p>
<p>参考文献</p>
<p><a href="https://createmomo.github.io/2017/09/12/CRF_Layer_on_the_Top_of_BiLSTM_1/" target="_blank" rel="noopener">[1] CRF_Layer_on_the_Top_of_BiLSTM_1</a><br><a href="[https://arxiv.org/abs/1603.01360](https://arxiv.org/abs/1603.01360">[2] Lample, G., Ballesteros, M., Subramanian, S., Kawakami, K. and Dyer, C., 2016. Neural architectures for named entity recognition. arXiv preprint arXiv:1603.01360.</a>)</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/11/DSA-LinkedList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/05/11/DSA-LinkedList/" class="post-title-link" itemprop="url">链表</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-05-11 15:50:00" itemprop="dateCreated datePublished" datetime="2018-05-11T15:50:00+08:00">2018-05-11</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-05-12 16:42:28" itemprop="dateModified" datetime="2018-05-12T16:42:28+08:00">2018-05-12</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>1.定义链表节点的结构体时，C 和 C++ 写法的差异</p>
<p>2.初始化链表，带不带头节点</p>
<p>头指针<br>尾指针</p>
<p>首节点<br>尾节点</p>
<p>With 头节点<br>操作同一</p>
<p>Without 头节点<br>链表合并方便</p>
<p>头插法</p>
<p>尾插法</p>
<p>实现两个带头节点的链表 L1 和 L2进行连接，L2 连接到 L2 末尾。</p>
<p>将两个有序链表合并为一个有序链表。</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/05/cpp-primer-notes-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/05/05/cpp-primer-notes-03/" class="post-title-link" itemprop="url">C++ Primer Note 3 字符串、向量和数组</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-05-05 14:00:00 / 修改时间：15:32:07" itemprop="dateCreated datePublished" datetime="2018-05-05T14:00:00+08:00">2018-05-05</time>
            </span>
          
            

            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/04/cpp-primer-notes-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/05/04/cpp-primer-notes-02/" class="post-title-link" itemprop="url">C++ Primer Note 2 变量和基本类型</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-05-04 21:00:00" itemprop="dateCreated datePublished" datetime="2018-05-04T21:00:00+08:00">2018-05-04</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-05-06 15:03:43" itemprop="dateModified" datetime="2018-05-06T15:03:43+08:00">2018-05-06</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>数据类型是程序的基础：它告诉我们数据的意义以及我们能在数据上执行的操作。</p>
<h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><p>C++ 定义了一套包括 算数类型 和 空类型 在内点基本数据类型。其中 算术类型 包括 字符、整数型、布尔值和 浮点数。空类型不对应具体的值，仅用于一些特殊点场合，例如最常见点是，当函数不返回任何值时使用空类型作为返回类型。</p>
<p>在 C++ 中初始化是一个异常复杂的问题。</p>
<p>在 C++ 中 初始化 和 赋值 是两种完全不同的操作。</p>
<h3 id="列表初始化"><a href="#列表初始化" class="headerlink" title="列表初始化"></a>列表初始化</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> unit_num = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> unit_num = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> unit_num&#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">unit_num</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<p>作为 C++11 新标准的一部分，用花括号初始化变量的到来全面的应用。</p>
<h3 id="复合类型"><a href="#复合类型" class="headerlink" title="复合类型"></a>复合类型</h3><p>引用和指针</p>
<h3 id="2-6-自定义数据结构"><a href="#2-6-自定义数据结构" class="headerlink" title="2.6 自定义数据结构"></a>2.6 自定义数据结构</h3><h4 id="预处理器"><a href="#预处理器" class="headerlink" title="预处理器"></a>预处理器</h4><p>确保头文件多次包含仍然能正常工作的常用技术是预处理器（Preprocessor），它由 C++ 语言从 C语言中继承而来。</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/04/cpp-primer-notes-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/05/04/cpp-primer-notes-01/" class="post-title-link" itemprop="url">C++ Primer Note 1</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-05-04 20:00:00" itemprop="dateCreated datePublished" datetime="2018-05-04T20:00:00+08:00">2018-05-04</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-05-05 12:29:29" itemprop="dateModified" datetime="2018-05-05T12:29:29+08:00">2018-05-05</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在 C++ 中，我们通过定义一个 <strong>类（Class）</strong>来定义自己的数据结构。一个<strong>类</strong>定义的一种<strong>数据类型</strong>，以及相关联的一组<strong>操作</strong>。类机制是 C++ 中最重要的特性之一。实际上， C++ 在设计之初的考虑就是能够定义使用上如同内置类型一样自然的 <strong>类类型（Class Type）</strong>。每一个类实际上都定义了一种新的类型，其类型名就是类名。</p>
<p>类的定义一般放在头文件中，通常使用<code>.h</code>作为头文件的后缀。标准库头文件一般不带后缀。</p>
<p>对于 <code>#include</code> 指令，包含来自标准库的头文件时，用<strong>尖括号</strong> <code>(&lt;&gt;)</code> 包围头文件名。对于不属于标准库的头文件，则用<strong>双引号</strong> <code>(&quot;&quot;)</code> 包围。</p>
<p>文件重定向:将标准输入和标准输出与命名文件相关联起来。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> addItem &lt;input_file &gt;output_file</span><br></pre></td></tr></table></figure></p>
<p><strong>成员函数（member function）</strong>定义为类的一部分的函数，有时候也被称为方法（Method）。</p>
<p>点运算符 <code>.</code></p>
<p>调用运算符 <code>()</code></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/05/01/From-Frequency-to-Meaning-Vector-Space-Models-of-Semantics/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/05/01/From-Frequency-to-Meaning-Vector-Space-Models-of-Semantics/" class="post-title-link" itemprop="url">从频率到语义</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-05-01 22:00:00 / 修改时间：22:25:46" itemprop="dateCreated datePublished" datetime="2018-05-01T22:00:00+08:00">2018-05-01</time>
            </span>
          
            

            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>hello</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/30/awesome-resources/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/04/30/awesome-resources/" class="post-title-link" itemprop="url">ML & DL 资源汇总</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-04-30 15:08:20" itemprop="dateCreated datePublished" datetime="2018-04-30T15:08:20+08:00">2018-04-30</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-05-01 20:10:18" itemprop="dateModified" datetime="2018-05-01T20:10:18+08:00">2018-05-01</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="http://deeplearning.stanford.edu/tutorial/" target="_blank" rel="noopener">UFLDL Tutorial</a></p>
<p><a href="https://github.com/spro/practical-pytorch" target="_blank" rel="noopener">https://github.com/spro/practical-pytorch</a></p>
<p><a href="https://github.com/jadore801120/attention-is-all-you-need-pytorch" target="_blank" rel="noopener">https://github.com/jadore801120/attention-is-all-you-need-pytorch</a></p>
<p><a href="https://github.com/rguthrie3/DeepLearningForNLPInPytorch" target="_blank" rel="noopener">https://github.com/rguthrie3/DeepLearningForNLPInPytorch</a></p>
<p><a href="https://github.com/yunjey/pytorch-tutorial" target="_blank" rel="noopener">https://github.com/yunjey/pytorch-tutorial</a></p>
<p><a href="https://github.com/aaron-xichen/pytorch-playground" target="_blank" rel="noopener">https://github.com/aaron-xichen/pytorch-playground</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/28448135" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/28448135</a></p>
<h2 id="NLP"><a href="#NLP" class="headerlink" title="NLP"></a>NLP</h2><h2 id="CV"><a href="#CV" class="headerlink" title="CV"></a>CV</h2>
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/30/why-cross-entropy-error/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/04/30/why-cross-entropy-error/" class="post-title-link" itemprop="url">为什么使用  Cross-Entropy Error ？</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-04-30 15:08:20 / 修改时间：22:08:29" itemprop="dateCreated datePublished" datetime="2018-04-30T15:08:20+08:00">2018-04-30</time>
            </span>
          
            

            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在使用神经网络进行分类和预测的时候，使用 Cross Entropy Error 来 evaluate 模型比使用 classification error 和 mean squared error 能取得更好的效果。为什么呢？让我来解释一下。基本的 idea 是非常简单的，但是目前有很多对其 main idea 存在误解的看法。首先说明一下我们正在用一个神经网络模型来进行分类任务，比如通过性别、年龄、年收入等预测一个人的党派属性（属于民主党、共和党或者其他党派）。我们不是在用神经网络进行回归任务（其预测值为数值型），或者一个时间序列的神经网络，又或者是其他的什么神经网络。</p>
<p>现在假设你有三个训练数据的样本。你的神经网络在输出层使用 softmax 激活函数将输出值转换为概率。假设神经网络的输出值和样本的实际值如下所示：<br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string"> computed       </span>|<span class="string">      targets         </span>|<span class="string"> correct? </span>|</span><br><span class="line">|<span class="string"> -------------- </span>|<span class="string">----------------------</span>|<span class="string">----------</span>|<span class="string"> </span></span><br><span class="line">|<span class="string"> 0.3  0.3  0.4  </span>|<span class="string"> 0  0  1 (democrat)   </span>|<span class="string">    yes   </span>|</span><br><span class="line">|<span class="string"> 0.3  0.4  0.3  </span>|<span class="string"> 0  1  0 (republican) </span>|<span class="string">    yes   </span>|</span><br><span class="line">|<span class="string"> 0.1  0.2  0.7  </span>|<span class="string"> 1  0  0 (other)      </span>|<span class="string">     no   </span>|</span><br></pre></td></tr></table></figure></p>
<p>这个神经网络的分类误差为 $\frac{1}{3} = 0.33$ ，其对应的分类准确率为 $\frac{2}{3}=0.67$ 。注意到这个神经网络仅仅将前两个样本分类正确，在第三个样本上却错的离谱。现在来看看另外一个神经网络：<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed       | targets              | correct?</span><br><span class="line">-----------------------------------------------</span><br><span class="line"><span class="number">0.1</span>  <span class="number">0.2</span>  <span class="number">0.7</span>  | <span class="number">0</span>  <span class="number">0</span>  <span class="number">1</span> (democrat)   | yes</span><br><span class="line"><span class="number">0.1</span>  <span class="number">0.7</span>  <span class="number">0.2</span>  | <span class="number">0</span>  <span class="number">1</span>  <span class="number">0</span> (republican) | yes</span><br><span class="line"><span class="number">0.3</span>  <span class="number">0.4</span>  <span class="number">0.3</span>  | <span class="number">1</span>  <span class="number">0</span>  <span class="number">0</span> (other)      | no</span><br></pre></td></tr></table></figure></p>
<p>这个神经网络的分类误差也是 $\frac{1}{3} = 0.33$ 。但是这个神经网络的表现要比第一个要好，因为它预测正确分类的概率值要大，且对于第三个样本也仅仅是差一点就预测对了，不像第一个预测的那么离谱。由此看来，分类误差是一个很“粗暴”的误差度量指标。</p>
<p>现在我们看看 cross-entropy error。第一个神经网络对于第一个样本的交叉熵误差为：</p>
<script type="math/tex; mode=display">-( (ln(0.3)*0) + (ln(0.3)*0) + (ln(0.4)*1) ) = -ln(0.4)</script><p>注意到在这个神经网络分类中，计算有一点“怪异”，因为除了一项以外都是 0 。（网络上几个讲如何计算交叉熵的解释还不错。）所以，第一个神经网络的平均交叉熵误差计算如下：</p>
<script type="math/tex; mode=display">-(ln(0.4) + ln(0.4) + ln(0.1)) / 3 = 1.38</script><p>第二个神经网络的平均交叉熵误差为：</p>
<script type="math/tex; mode=display">-(ln(0.7) + ln(0.7) + ln(0.3)) / 3 = 0.64</script><p>Notice that the average cross-entropy error for the second, superior neural network is smaller than the ACE error for the first neural network. The ln() function in cross-entropy takes into account the closeness of a prediction and is a more granular way to compute error.</p>
<p>本文翻译自:<a href="https://jamesmccaffrey.wordpress.com/2013/11/05/why-you-should-use-cross-entropy-error-instead-of-classification-error-or-mean-squared-error-for-neural-network-classifier-training/" target="_blank" rel="noopener">Why You Should Use Cross-Entropy Error Instead Of Classification Error Or Mean Squared Error For Neural Network Classifier Training</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/28/ML&DL-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ToSev7en">
      <meta itemprop="description" content="人生如逆旅，我亦是行人。">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TSW">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/04/28/ML&DL-Notes/" class="post-title-link" itemprop="url">ML & DL 知识点</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2018-04-28 14:11:20" itemprop="dateCreated datePublished" datetime="2018-04-28T14:11:20+08:00">2018-04-28</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2018-04-30 12:22:53" itemprop="dateModified" datetime="2018-04-30T12:22:53+08:00">2018-04-30</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>梯度消失</p>
<p>梯度爆炸</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">ToSev7en</p>
  <div class="site-description" itemprop="description">人生如逆旅，我亦是行人。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/yourname" title="GitHub &rarr; https://github.com/yourname" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:yourname@gmail.com" title="E-Mail &rarr; mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://weibo.com/yourname" title="Weibo &rarr; https://weibo.com/yourname" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
    
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ToSev7en</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.1</div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/pjax/pjax.min.js?v=0.2.8"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>

<script src="/js/next-boot.js?v=7.4.1"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[pjax], script#page-configurations, #pjax script').forEach(element => {
    var id = element.id || '';
    var src = element.src || '';
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (id !=='') {
      script.id = element.id;
    }
    if (src !== '') {
      script.src = src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




















    <div id="pjax">

  

  
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  

    </div>
</body>
</html>
